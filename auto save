def start_auto_save(self):
        """Memulai proses auto-save secara berkala."""
        self.auto_save()
        self.root.after(self.auto_save_interval * 1000, self.start_auto_save)

    def auto_save(self):
        """Menyimpan state saat ini ke file."""
        try:
            with open('autosave.txt', 'w') as file:
                file.write("Data Senjata:\n")
                for weapon in self.weapon_data:
                    file.write(f"{weapon}\n")
                file.write("\nData Transaksi:\n")
                for transaction in self.transaction_data:
                    file.write(f"{transaction}\n")
            print("Auto-save berhasil.")
        except Exception as e:
            print(f"Error saat auto-save: {e}")

    def add_weapon_type(self):
        new_weapon = simpledialog.askstring("Tambah Jenis Senjata", "Ketik jenis senjata yang anda inginkan:")
        if new_weapon:
            self.weapon_data.append((new_weapon, "UNKNOWN", "UNKNOWN"))
        self.auto_save()  # Auto-save setelah menambah senjata
        self.page_6()

    def delete_weapon(self, index):
        del self.weapon_data[index]
        self.auto_save()  # Auto-save setelah menghapus senjata
        self.page_3()
